{% extends 'layouts/base.html' %}
{% load static %}

{% block content %}

  <!-- [ Main Content ] start -->
  <div class="row">
    
    <!--[ daily sales section ] start-->
    <div class="col-md-6">
      <div class="card card-event">
        <div class="card-block">
          <div class="row align-items-center justify-content-center">
            <div class="col">
              <h5 class="m-0">Event Scheduled for today</h5>
            </div>
            <div class="col-auto">
              <label class="label theme-bg2 text-white f-14 f-w-400 float-right">100</label>
            </div>
          </div>
          <h2 class="mt-3 f-w-300">3<sub class="text-muted f-14">Meetings</sub></h2>
          <h6 class="text-muted mt-4 mb-0">Intervention required </h6>
          <i class="fab fa-angellist text-c-purple f-50"></i>
        </div>
      </div>
    </div>
    
    <!--[ daily sales section ] end-->
    <!--[ Monthly  sales section ] starts-->
   
    <div class="col-md-6 card">
      <div class="card-block border-bottom">
        <div class="row d-flex align-items-center">
          <div class="col-auto">
            <i class="feather icon-zap f-30 text-c-green"></i>
          </div>
          <div class="col">
            <h3 class="f-w-300">20</h3>
            <span class="d-block text-uppercase">Teachers</span>
          </div>
        </div>
      </div>
      <div class="card-block">
        <div class="row d-flex align-items-center">
          <div class="col-auto">
            <i class="feather icon-map-pin f-30 text-c-blue"></i>
          </div>
          <div class="col">
            <h3 class="f-w-300">26</h3>
            <span class="d-block text-uppercase">Students</span>
          </div>
        </div>
      </div>
    </div>
  </div>


    
  </div>



  <div class="row">
    <div class="col-sm-12">
      <div class="card">
        <div class="card-header">
          <div class="i-block card-body" data-clipboard-text="feather icon-award" data-filter="icon-award" data-toggle="tooltip" title data-original-title="icon-award">
            <i class="feather icon-award "> </i>
            <h5>Run Institution</h5>
            </div>
         
        </div>
        <div class="card-block">
          <p>"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
            labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
            laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in
            voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat
            non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
          </p>
        </div>
      </div>
    </div>
  </div>

  <div class="card" id="myTabContent">
   
    <div class="card-body" id="home" role="tabpanel" aria-labelledby="home-tab">
      <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link href="https://fonts.googleapis.com/css?family=Roboto:300,400&display=swap" rel="stylesheet">
      
        <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500&display=swap" rel="stylesheet">
      
        
        <link rel="stylesheet" href="{% static "show/fonts/icomoon/style.css" %}">
      
        <link href="{% static 'show/fullcalendar/packages/core/main.css' %}" rel='stylesheet' />
        <link href="{% static 'show/fullcalendar/packages/daygrid/main.css' %}"rel='stylesheet' />
        
        
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="{% static "show/css/bootstrap.min.css" %}">
        
        <!-- Style -->
        <link rel="stylesheet" href="{% static "show/css/style.css" %}">
      
        <title>Calendar #10</title>
      </head>
      
        <!-- [ Main Content ] start -->
        <div class="row">
          <div class="col-sm-12">
            <div class="card">
              <div class="card-header">
                <h5>Schedules</h5>
              </div>
              <div class="card-block">
                <div id='calendar-container'>
                  <div id='calendar'></div>
                </div>
                  
                  
              
                  <script src="{% static "show/js/jquery-3.3.1.min.js" %}"></script>
                  <script src="{% static "show/js/popper.min.js" %}"></script>
                  <script src="{% static "show/js/bootstrap.min.js" %}"></script>
              
                  <script src="{% static 'show/fullcalendar/packages/core/main.js' %}"></script>
                  <script src="{% static 'show/fullcalendar/packages/interaction/main.js' %}"></script>
                  <script src="{% static 'show/fullcalendar/packages/daygrid/main.js' %}"></script>
                  <script src="{% static 'show/fullcalendar/packages/timegrid/main.js' %}"></script>
                  <script src="{% static 'show/fullcalendar/packages/list/main.js' %}"></script>
              
                  
              
                  <script>
                    document.addEventListener('DOMContentLoaded', function() {
                  var calendarEl = document.getElementById('calendar');
              
                  var data=[]
                  async function loadJsonData() {
                    try {
                      
                        const response = await fetch("{% static 'booking.json' %}") ; // Replace with the actual path to your JSON file
                        const jsonData = await response.json();
              
                        // Store the JSON data in a variable
                        data =await  jsonData;
              
                        // Display the JSON data
                       console.log(data)
                    } catch (error) {
                        console.error('Error loading JSON data:', error);
                    }
                }
                  async function load()
                  {
                    const s=await loadJsonData()
                    const currentDate = new Date();
              
              // Get the individual date components (year, month, day)
              const year = currentDate.getFullYear();
              const month = String(currentDate.getMonth() + 1).padStart(2, '0'); // Adding 1 to month because months are zero-based
              const day = String(currentDate.getDate()).padStart(2, '0');
              
              // Create a formatted date string (e.g., "yyyy-MM-dd")
              const formattedDate = `${year}-${month}-${day}`;
                    var calendar = await new FullCalendar.Calendar(calendarEl, {
                      plugins: [ 'interaction', 'dayGrid', 'timeGrid', 'list' ],
                      height: 'parent',
                      header: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
                      },
                      defaultView: 'dayGridMonth',
                      defaultDate: formattedDate,
                      navLinks: true, // can click day/week names to navigate views
                      editable: true,
                      eventLimit: true, // allow "more" link when too many events
                      events: data['events']
                    });
                
                   const z= await  calendar.render();
                  }
               
                  load()
                });
              
                  </script>
              
                  <script src="{% static "show/js/main.js" %}"></script>
              </div>
            </div>
          </div>
        </div>
        <!-- [ Main Content ] end -->
      
    </div>
  </div>


  <!-- [ Main Content ] end -->

{% endblock content %}